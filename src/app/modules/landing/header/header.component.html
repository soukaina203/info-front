<nav class="sticky top-0 z-50 py-4 bg-white shadow-sm">
    <div class="container flex items-center justify-between px-6 mx-auto md:px-6">
        <!-- Logo à gauche -->
        <div class="flex items-center">
            <a href="#" class="flex items-center space-x-2">
                <img src="images/logo/logo.png" alt="Info Académie" class="h-8 w-7" />
                <span class="text-xl font-bold text-brand-blue text-[#2E849D]">Info Académie</span>
            </a>
        </div>

        <!-- Liens centrés -->
        <div class="justify-center flex-1 hidden space-x-6 md:flex">
            <a class="font-medium text-gray-700 transition duration-300 hover:cursor-pointer hover:text-brand-blue" (click)="scrollTo('Hero')">Accueil</a>
            <a class="font-medium text-gray-700 transition duration-300 hover:cursor-pointer hover:text-brand-blue"
            (click)="scrollTo('services')">Nos
                Services</a>
            <a class="font-medium text-gray-700 transition duration-300 hover:cursor-pointer hover:text-brand-blue" (click)="scrollTo('cta')">À
                Propos</a>
            <a
                class="font-medium text-gray-700 transition duration-300 hover:cursor-pointer hover:text-brand-blue" (click)="scrollTo('contact')">Contact</a>
        </div>

        <!-- Auth / user actions à droite -->
        <div class="items-center hidden space-x-4 md:flex">
            <ng-container *ngIf="!isConnected">
                <button class="px-6 py-1 text-[1rem] text-white rounded-md bg-[#2E849D] hover:bg-[#2E849D]/90"
                    routerLink="/choose">
                    S'inscrire
                </button>
                <button
                    class="px-6 py-1 text-[1rem] border rounded-md border-[#2E849D] text-[#2E849D] hover:bg-[#2E849D]/10"
                    routerLink="/sign-in">
                    s'authentifier
                </button>
            </ng-container>

            <ng-container *ngIf="isConnected">
                <button [matMenuTriggerFor]="userActions">
                    <img *ngIf="user.photo" class="rounded-full h-7 w-7" [src]="Url" />
                    <mat-icon *ngIf="!user.photo" [svgIcon]="'heroicons_outline:user-circle'"
                        class="w-7 h-7"></mat-icon>
                </button>
                <div *ngIf="isShowen"
                    class="absolute right-0 z-40 w-48 mt-2 origin-top-right bg-white rounded-md shadow-lg top-12 ring-1 ring-black ring-opacity-5 focus:outline-none">
                    <a href="/user" class="block px-4 py-2 text-gray-800 hover:text-[#2E849D]">Profile</a>
                    <a (click)="logout()"
                        class="block px-4 py-2 text-gray-800 hover:text-[#2E849D] cursor-pointer">Logout</a>
                </div>
            </ng-container>
        </div>

        <!-- Mobile Menu Button -->
        <button (click)="toggleMenu()" class="flex items-center md:hidden">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-brand-blue" fill="none" viewBox="0 0 24 24"
                stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    [attr.d]="isMenuOpen ? 'M6 18L18 6M6 6l12 12' : 'M4 6h16M4 12h16M4 18h16'" />
            </svg>
        </button>
    </div>

    <!-- Mobile Menu -->
    <div class="absolute left-0 right-0 w-full transition-all duration-300 bg-white shadow-md md:hidden"
        [class.opacity-100]="isMenuOpen" [class.visible]="isMenuOpen" [class.opacity-0]="!isMenuOpen"
        [class.invisible]="!isMenuOpen" [class.h-0]="!isMenuOpen">

        <div class="container flex flex-col px-4 py-3 mx-auto space-y-3">
            <a href="#Hero" class="py-2 text-gray-700 border-b border-gray-100 hover:text-brand-blue">Accueil</a>
            <a href="#services" class="py-2 text-gray-700 border-b border-gray-100 hover:text-brand-blue">Nos
                Services</a>
            <a href="#about" class="py-2 text-gray-700 border-b border-gray-100 hover:text-brand-blue">À Propos</a>
            <a href="#contact" class="py-2 text-gray-700 hover:text-brand-blue">Contact</a>
            <ng-container *ngIf="!isConnected">
                <button class="px-6 py-1 text-[1rem] text-white rounded-md bg-[#2E849D] hover:bg-[#2E849D]/90"
                    routerLink="/choose">
                    S'inscrire
                </button>
                <button
                    class="px-6 py-1 text-[1rem] border rounded-md border-[#2E849D] text-[#2E849D] hover:bg-[#2E849D]/10"
                    routerLink="/sign-in">
                    s'authentifier
                </button>
            </ng-container>
        </div>
    </div>
</nav>
